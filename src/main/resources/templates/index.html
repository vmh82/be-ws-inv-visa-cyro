<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <title>Assignment</title>
        <script src="./check.js"></script>
    </head>
    <body>
        <h4>Assignment for Mastercard (Yang Wang)</h4>
        <form method="get" action="/jersey/doLogout">
            <table>
                <tr><th>User:</th><td><span th:text="${User}"></span></td></tr>
            </table>
            <input type="submit" value="logout">
        </form>
        <h5>## >>>>>>>   Function 1: Compare the csv and database to find out the difference   <<<<<<<</h5>
        <form method="POST" onsubmit="return checkFile(1)" enctype="multipart/form-data" action="/jersey/upload/check">
            <h5>   Choose [warehouseStock.csv]： <input type="file" name="file" id="file1" accept="text/csv"/><input type="submit" value="Upload"/></h5>
        </form>

        <h5>## >>>>>>>   Function 2: Update Jersey and Stock Tables from CSV   <<<<<<<</h5>
        <form method="POST" onsubmit="return checkFile(2)" enctype="multipart/form-data" action="/jersey/upload/update">
            <h5>   Choose [warehouseStock.csv]： <input type="file" name="file" id="file2" accept="text/csv"/><input type="submit" value="Upload"/></h5>
        </form>

        <h5>## >>>>>>>   Function 3: Sale: input the id and amount to buy the jersey   <<<<<<<</h5>
        <form onsubmit="return checkInput()" id="form" method="get" action="/rest/api/v1/sale">
            <label>Jersey ID: </label><input type="text" id="id" , name="id" value="">
            <br>
            <label>Amount: </label><input type="number" id="amount" , name="amount" value="" >
            <br>
            <br>
            <button type="submit" id="submit">Buy</button>
        </form>
        <br>
        <table>
            <tr><th>TotalSales:</th><td><span th:text="${Total}"></span></td></tr>
        </table>
        <table>
            <thead>
            <tr>
                <th> Jersey ID </th>
                <th> Amount </th>
                <th> Club </th>
                <th> Brand </th>
                <th> Year </th>
                <th> Size </th>
                <th> Type </th>
                <th> Material </th>
                <th> Sex </th>
            </tr>
            </thead>
            <tbody>
                <tr th:if="${Jerseys.size() == 0}">
                    <td colspan="2"> No Jersey Available </td>
                </tr>
                <tr th:each="Jersey : ${Jerseys}">
                    <td><span th:text="${Jersey.getId()}"> Jersey ID </span></td>
                    <td><span th:text="${Jersey.getAmount()}"> Amount </span></td>
                    <td><span th:text="${Jersey.getClub()}"> Club </span></td>
                    <td><span th:text="${Jersey.getBrand()}"> Brand </span></td>
                    <td><span th:text="${Jersey.getYear()}"> Year </span></td>
                    <td><span th:text="${Jersey.getSize()}"> Size </span></td>
                    <td><span th:text="${Jersey.getType()}"> Type </span></td>
                    <td><span th:text="${Jersey.getMaterial()}"> Material </span></td>
                    <td><span th:text="${Jersey.getCut()}"> Sex </span></td>
                </tr>
            </tbody>
        </table>
    </body>
</html>
